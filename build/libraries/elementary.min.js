"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

!function i(a, u, s) {
  function l(t, e) {
    if (!u[t]) {
      if (!a[t]) {
        var n = "function" == typeof require && require;if (!e && n) return n(t, !0);if (f) return f(t, !0);var o = new Error("Cannot find module '" + t + "'");throw o.code = "MODULE_NOT_FOUND", o;
      }var r = u[t] = { exports: {} };a[t][0].call(r.exports, function (e) {
        return l(a[t][1][e] || e);
      }, r, r.exports, i, a, u, s);
    }return u[t].exports;
  }for (var f = "function" == typeof require && require, e = 0; e < s.length; e++) {
    l(s[e]);
  }return l;
}({ 1: [function (e, t, n) {
    "use strict";
    Object.defineProperty(n, "__esModule", { value: !0 });var o = function () {
      function o(e, t) {
        for (var n = 0; n < t.length; n++) {
          var o = t[n];o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);
        }
      }return function (e, t, n) {
        return t && o(e.prototype, t), n && o(e, n), e;
      };
    }();var r = Symbol("site"),
        i = Symbol("page"),
        a = function () {
      function e() {
        !function (e, t) {
          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }(this, e);
      }return o(e, [{ key: "__doInit", value: function value() {
          "function" == typeof this.init && this.init();
        } }, { key: "site", set: function set(e) {
          if (!(e && e instanceof window.elmtry.Site)) throw new Error("Elementary: Illegal value assigned to site property");this[r] = e;
        }, get: function get() {
          return this[r];
        } }, { key: "page", set: function set(e) {
          if (!(e && e instanceof window.elmtry.Page)) throw new Error("Elementary: Illegal value assigned to page property");this[i] = e;
        }, get: function get() {
          return this[i];
        } }]), e;
    }();n.default = a;
  }, {}], 2: [function (e, t, n) {
    "use strict";
    Object.defineProperty(n, "__esModule", { value: !0 });var o,
        r = e("./Base"),
        i = (o = r) && o.__esModule ? o : { default: o };var a = function (e) {
      function t() {
        return function (e, t) {
          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }(this, t), function (e, t) {
          if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return !t || "object" != (typeof t === "undefined" ? "undefined" : _typeof(t)) && "function" != typeof t ? e : t;
        }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
      }return function (e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + (typeof t === "undefined" ? "undefined" : _typeof(t)));e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
      }(t, i.default), t;
    }();n.default = a;
  }, { "./Base": 1 }], 3: [function (e, t, n) {
    "use strict";
    Object.defineProperty(n, "__esModule", { value: !0 });var o = function () {
      function o(e, t) {
        for (var n = 0; n < t.length; n++) {
          var o = t[n];o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);
        }
      }return function (e, t, n) {
        return t && o(e.prototype, t), n && o(e, n), e;
      };
    }(),
        r = a(e("./Base")),
        i = a(e("./utils"));function a(e) {
      return e && e.__esModule ? e : { default: e };
    }var u = function (e) {
      function n(e) {
        !function (e, t) {
          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }(this, n);var t = function (e, t) {
          if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return !t || "object" != (typeof t === "undefined" ? "undefined" : _typeof(t)) && "function" != typeof t ? e : t;
        }(this, (n.__proto__ || Object.getPrototypeOf(n)).call(this));return t.element = e, t;
      }return function (e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + (typeof t === "undefined" ? "undefined" : _typeof(t)));e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
      }(n, r.default), o(n, [{ key: "__inView", value: function value() {
          console.log("inView"), i.default.addClass(this.element, "elmtry-in-view");
        } }, { key: "__outView", value: function value() {
          console.log("outView"), i.default.removeClass(this.element, "elmtry-in-view");
        } }], [{ key: "_bindInViewActions", value: function value(e) {
          var n;if (!e || !e.length) return !1;var t = function t() {
            n = window.scrollY + window.innerHeight + -75, e.forEach(function (e) {
              var t = i.default.getElementOffset(e.element).top;!e.__isInView && t < n ? (e.__inView(), "function" == typeof e.inView && e.inView(), e.__isInView = !0) : e.__isInView && n <= t && (e.__outView(), "function" == typeof e.outView && e.outView(), e.__isInView = !1);
            });
          };window.addEventListener("scroll", i.default.throttle(t, 100)), t();
        } }]), n;
    }();n.default = u;
  }, { "./Base": 1, "./utils": 7 }], 4: [function (e, t, n) {
    "use strict";
    Object.defineProperty(n, "__esModule", { value: !0 });var o,
        r = e("./Base"),
        i = (o = r) && o.__esModule ? o : { default: o };var a = function (e) {
      function t() {
        return function (e, t) {
          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }(this, t), function (e, t) {
          if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return !t || "object" != (typeof t === "undefined" ? "undefined" : _typeof(t)) && "function" != typeof t ? e : t;
        }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
      }return function (e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + (typeof t === "undefined" ? "undefined" : _typeof(t)));e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
      }(t, i.default), t;
    }();n.default = a;
  }, { "./Base": 1 }], 5: [function (e, t, n) {
    "use strict";
    Object.defineProperty(n, "__esModule", { value: !0 });var o,
        r = e("./Base"),
        i = (o = r) && o.__esModule ? o : { default: o };var a = function (e) {
      function t() {
        return function (e, t) {
          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }(this, t), function (e, t) {
          if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return !t || "object" != (typeof t === "undefined" ? "undefined" : _typeof(t)) && "function" != typeof t ? e : t;
        }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
      }return function (e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + (typeof t === "undefined" ? "undefined" : _typeof(t)));e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
      }(t, i.default), t;
    }();n.default = a;
  }, { "./Base": 1 }], 6: [function (e, t, n) {
    "use strict";
    var o = i(e("./utils")),
        a = (i(e("./Base")), i(e("./Site"))),
        u = i(e("./Page")),
        r = i(e("./Behavior")),
        s = i(e("./Component"));function i(e) {
      return e && e.__esModule ? e : { default: e };
    }var l = { Site: a.default, Page: u.default, Behavior: r.default, Component: s.default },
        f = { site: [], page: [], behavior: [], component: [] };document.addEventListener("DOMContentLoaded", function () {
      var o, r;(o = f.site.length ? new f.site[0].ClassDef() : new a.default()).__doInit();var e = f.page.find(function (e) {
        return !!document.getElementById("#" + e.pageId);
      });(r = e ? new e() : new u.default()).site = o, r.__doInit(), f.behavior.forEach(function (e) {
        var t = new e.ClassDef();t.site = o, t.page = r, t.__doInit();
      });var i = [];f.component.forEach(function (n) {
        document.querySelectorAll(n.elSelector).forEach(function (e) {
          var t = new n.ClassDef(e);t.site = o, t.page = r, i.push(t), t.__doInit();
        });
      }), s.default._bindInViewActions(i);
    });var c = { utils: o.default, Site: a.default, Page: u.default, Behavior: r.default, Component: s.default, bind: function bind(e, t) {
        e.prototype instanceof a.default ? f.site.push({ ClassDef: e }) : e.prototype instanceof u.default ? f.page.push({ ClassDef: e, pageId: t }) : e.prototype instanceof r.default ? f.behavior.push({ ClassDef: e }) : e.prototype instanceof s.default && f.component.push({ ClassDef: e, elSelector: t });
      }, define: function define(e, t) {
        var n = l[e];if (n) {
          var o = Object.assign({}, n);return Object.setPrototypeOf(o, n.prototype), Object.assign(o.prototype, t), o;
        }throw new Error('Elementary: No such class "${ClassName}"');
      } };window.elmtry = c;
  }, { "./Base": 1, "./Behavior": 2, "./Component": 3, "./Page": 4, "./Site": 5, "./utils": 7 }], 7: [function (e, t, n) {
    "use strict";
    Object.defineProperty(n, "__esModule", { value: !0 }), n.default = { hasClass: function hasClass(e, t) {
        return e.classList ? e.classList.contains(t) : !!e.className.match(new RegExp("(\\s|^)" + t + "(\\s|$)"));
      }, addClass: function addClass(e, t) {
        e.classList ? e.classList.add(t) : hasClass(e, t) || (e.className += " " + t);
      }, removeClass: function removeClass(e, t) {
        if (e.classList) e.classList.remove(t);else if (hasClass(e, t)) {
          var n = new RegExp("(\\s|^)" + t + "(\\s|$)");e.className = e.className.replace(n, " ");
        }
      }, getElementOffset: function getElementOffset(e) {
        var t = e.getBoundingClientRect();return { top: t.top + window.pageYOffset - document.documentElement.clientTop, left: t.left + window.pageXOffset - document.documentElement.clientLeft };
      }, throttle: function throttle(n, o, r) {
        var i,
            a,
            u,
            s = null,
            l = 0;r || (r = {});var f = function f() {
          l = !1 === r.leading ? 0 : Date.now(), s = null, u = n.apply(i, a), s || (i = a = null);
        };return function () {
          var e = Date.now();l || !1 !== r.leading || (l = e);var t = o - (e - l);return i = this, a = arguments, t <= 0 || o < t ? (s && (clearTimeout(s), s = null), l = e, u = n.apply(i, a), s || (i = a = null)) : s || !1 === r.trailing || (s = setTimeout(f, t)), u;
        };
      } };
  }, {}] }, {}, [6]);